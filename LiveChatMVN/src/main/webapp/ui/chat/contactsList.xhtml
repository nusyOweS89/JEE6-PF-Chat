<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:body>
	<p:outputPanel id="pFriendsList">
		<h:form>
			<p:dataGrid
				value="#{chat.contacts}"
				var="contact"
				columns="1"
				rows="3"
				paginator="true"
				paginatorPosition="bottom"
				paginatorTemplate="{PreviousPageLink} {NextPageLink}">

				<p:column>
					<p:panel header="#{contact.other.username}">
						<h:panelGrid columns="2">
							<h:outputText
								value="#{contact.other.status}"
								styleClass="status-user-#{contact.other.username}" />
							<ui:remove>
								<h:panelGroup>
								</h:panelGroup>
							</ui:remove>

							<h:panelGroup>
								<p:commandButton
									id="btnChat"
									styleClass="chat-button"
									action="#{chat.startConversation(contact)}"
									update=":tvConversations"
									icon="ui-icon-signal-diag" />
								<p:tooltip
									for="btnChat"
									value="Chat" />
							</h:panelGroup>
						</h:panelGrid>
					</p:panel>
				</p:column>

			</p:dataGrid>
		</h:form>
	</p:outputPanel>

</h:body>
</html>