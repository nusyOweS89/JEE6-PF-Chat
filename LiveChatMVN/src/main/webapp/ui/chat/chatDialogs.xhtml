<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:body>

	<p:dialog
		id="searchForFriendsDialog"
		header="Search for friends"
		width="900"
		minWidth="900"
		height="500"
		minHeight="500"
		dynamic="true"
		widgetVar="searchForFriendsDlg">

		<h:form id="fSearchForFriends">

			<p:layout style="min-width:850px;min-height:500px;">
				<p:layoutUnit
					position="west"
					resizable="true"
					size="400">
					<h:panelGrid
						columns="2"
						id="pSearchFilters">
						<p:outputLabel
							for="itUsername"
							value="Nick:" />
						<p:inputText
							id="itUsername"
							value="#{friendsSearch.filter.username}" />

						<p:outputLabel
							for="itFirstname"
							value="First name:" />
						<p:inputText
							id="itFirstname"
							value="#{friendsSearch.filter.firstname}" />

						<p:outputLabel
							for="itLastname"
							value="Last name:" />
						<p:inputText
							id="itLastname"
							value="#{friendsSearch.filter.lastname}" />
					</h:panelGrid>

					<p:commandButton
						id="btnSearch"
						value="Search"
						action="#{friendsSearch.search}"
						update="dtSearchResults"
						process="@this pSearchFilters" />
				</p:layoutUnit>

				<p:layoutUnit
					position="center"
					resizable="true"
					size="450">

					<p:dataTable
						id="dtSearchResults"
						paginator="true"
						rows="7"
						paginatorAlwaysVisible="true"
						paginatorPosition="bottom"
						paginatorTemplate="{PreviousPageLink} {NextPageLink}"
						value="#{friendsSearch.users}"
						var="user">

						<p:column headerText="Nick">
						#{user.username}
					</p:column>

						<p:column headerText="First Name">
						#{user.firstname}
					</p:column>

						<p:column headerText="Last Name">
						#{user.lastname}
					</p:column>

						<p:column>
							<p:commandButton
								icon="ui-icon-plusthick"
								action="#{friendsSearch.addContact(user)}"
								disabled="#{friendsSearch.isAlreadyAdded(user)}"
								process="@this"
								update="@form"
								id="btnAddContact" />
							<p:tooltip
								for="btnAddContact"
								value="Add this user to your conntacts list" />
						</p:column>
					</p:dataTable>
				</p:layoutUnit>
			</p:layout>
		</h:form>
	</p:dialog>

	<p:dialog
		id="dOptions"
		widgetVar="optionsDlg"
		modal="true"
		appendToBody="true"
		width="800"
		minWidth="800"
		height="350"
		minHeight="350"
		dynamic="true"
		header="Options">

		<p:tabView orientation="left">

			<p:tab title="Personal">
				username...
			</p:tab>

			<p:tab title="Security">
				sec...
			</p:tab>

			<p:tab title="Visual">
				vis...
			</p:tab>

		</p:tabView>

	</p:dialog>

	<p:dialog
		id="dEditContacts"
		widgetVar="editContactsDlg"
		modal="true"
		header="Friends list"
		height="500"
		minHeight="500"
		width="700"
		minWidth="700"
		dynamic="true"
		appendToBody="true">

		<p:dataTable id="dtEditContacts">

			<p:column headerText="Nick">
			</p:column>

			<p:column headerText="First Name">
			</p:column>

			<p:column headerText="Last Name">
			</p:column>

			<p:column>
				<p:commandButton
					icon="ui-icon-minusthick"
					id="btnRemoveContact" />
				<p:tooltip
					for="btnRemoveContact"
					value="Remove this user from your conntacts list" />

				<p:commandButton
					id="btnBlockContact"
					icon="ui-icon-circle-close" />
				<p:tooltip
					for="btnBlockContact"
					value="Block this user (you will not receive messages from this user)" />
			</p:column>
		</p:dataTable>
	</p:dialog>


</h:body>
</html>